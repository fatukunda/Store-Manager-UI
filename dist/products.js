!function(e){var t={};function n(d){if(t[d])return t[d].exports;var o=t[d]={i:d,l:!1,exports:{}};return e[d].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,d){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:d})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var d=Object.create(null);if(n.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(d,o,function(t){return e[t]}.bind(null,o));return d},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}({0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const d=document.getElementById("admin-products-list"),o=document.getElementById("add-category"),a=document.getElementById("add-product"),c=document.getElementById("view-sales"),i=document.getElementById("add-sales-person"),l=document.getElementById("product-details-view"),r=document.getElementById("edit-product-details-view"),m=document.getElementById("attendants-list"),u=document.getElementById("attendant-details"),s=[d,u,o,a,c,i,l,r,m],p=e=>{return{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+window.sessionStorage.getItem("token")}}},y=()=>{return{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+window.sessionStorage.getItem("token")}}},E=e=>{return{method:"PUT",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+window.sessionStorage.getItem("token")}}},g=()=>{return{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+window.sessionStorage.getItem("token")}}};t.modifyDiv=(e=>{s.forEach(t=>{t===e?(e=>{e.style.display="block"})(t):(e=>{e.style.display="none"})(t)})}),t.createItem=async function(e,t){const n=p(t);return(await fetch(e,n)).json()},t.getSingleItem=async function(e){const t=y();return(await fetch(e,t)).json()},t.editItem=async function(e,t){const n=E(t);return(await fetch(e,n)).json()},t.deleteItem=async function(e){const t=g();return(await fetch(e,t)).json()},t.fetchAllItems=async function(e){const t=y();return(await fetch(e,t)).json()}},1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNumberOfAttendants=void 0;var d=n(0);const o=document.getElementById("attendants-list"),a=document.getElementById("attendants-card"),c=document.getElementById("add-attendant-form"),i=document.getElementById("attendants-number"),l=document.getElementById("attendant-details"),r=document.getElementById("add-sales-person-link"),m=document.getElementById("add-sales-person"),u="https://store-manager-api-heroku.herokuapp.com/api/v1/attendants",s=()=>{(0,d.fetchAllItems)(u).then(e=>{e.forEach(e=>{((e,t,n)=>{const a=document.createElement("div");a.classList.add("card"),a.style.width="230px",a.style.float="left",a.style.margin="5px";const c=document.createElement("div");c.classList.add("card-header");const i=document.createElement("div");i.classList.add("card-main"),i.style.color="#00787a";const r=document.createElement("div");r.classList.add("main-description");const m=document.createElement("button");m.style.marginBottom="10px",m.addEventListener("click",e=>{e.preventDefault(),(0,d.modifyDiv)(l)}),m.innerHTML="View Details",r.appendChild(m);const u=document.createElement("img");u.setAttribute("src","https://via.placeholder.com/200"),c.appendChild(u);const s=document.createElement("h2");s.innerHTML=e;const p=document.createElement("p");p.innerHTML=t;const y=document.createElement("p");y.innerHTML=n,i.appendChild(s),i.appendChild(p),i.appendChild(y),a.appendChild(c),a.appendChild(i),a.appendChild(r),o.appendChild(a)})(e.first_name,e.email,e.user_type)})}).catch(e=>console.log(e))};a.addEventListener("click",e=>{e.preventDefault(),s(),(0,d.modifyDiv)(o)}),c.addEventListener("submit",e=>{e.preventDefault(),(()=>{const e=document.getElementById("userFirstName").value,t=document.getElementById("userLastName").value,n=document.getElementById("userUsername").value,o={first_name:e,last_name:t,email:document.getElementById("userEmail").value,username:n,password:document.getElementById("userPassword").value};(0,d.createItem)(u,o).then(e=>console.log(e)).catch(e=>console.log(e))})(),document.getElementById("userFirstName").value="",document.getElementById("userLastName").value="",document.getElementById("userUsername").value="",document.getElementById("userEmail").value="",document.getElementById("userPassword").value=""});r.addEventListener("click",()=>{(0,d.modifyDiv)(m)}),t.getNumberOfAttendants=(()=>{(0,d.fetchAllItems)(u).then(e=>{i.innerHTML=e.length}).catch(e=>console.log(e))})},8:function(e,t,n){"use strict";var d=n(0),o=n(1);let a="https://store-manager-api-heroku.herokuapp.com/api/v1/products";const c=document.getElementById("products-card"),i=document.getElementById("admin-products-list"),l=document.getElementById("add-category"),r=document.getElementById("add-product"),m=document.getElementById("add-product-link"),u=document.getElementById("add-category-link"),s=document.getElementById("view-products"),p=document.getElementById("product-details-view"),y=document.getElementById("edit-product-details-view"),E=document.getElementById("back-product-detail"),g=document.getElementById("add-product-form");document.getElementById("edit-product-form").addEventListener("submit",e=>{e.preventDefault(),v()});const v=()=>{const e=document.getElementById("id-field"),t=parseInt(e.value),n=document.getElementById("quantity-field"),o=parseInt(n.value),a=document.getElementById("price-field"),c=parseFloat(a.value);f(t,o,c),(0,d.modifyDiv)(i)},f=(e,t,n)=>{a+=`/${e}`;const o={quantity:t,unit_price:n};(0,d.editItem)(a,o).then(e=>e).catch(e=>console.log(e))},h=()=>{(0,d.fetchAllItems)(a).then(e=>{e.forEach((e,t)=>{((e,t,n,o,a,c)=>{const i=document.getElementById("prod-details"),l=document.createElement("tr"),r=document.createElement("td"),m=document.createElement("td"),u=document.createElement("td"),s=document.createElement("td"),y=document.createElement("td"),E=document.createElement("td"),g=document.createElement("td"),v=document.createElement("button");v.classList.add("view-product-details-btn"),v.innerHTML="View Product Details",v.addEventListener("click",e=>{e.preventDefault(),B(n,t,o,c,a),(0,d.modifyDiv)(p)}),r.innerHTML=e,m.innerHTML=t,u.innerHTML=n,s.innerHTML=o,y.innerHTML=c,E.innerHTML=a,g.appendChild(v),l.appendChild(r),l.appendChild(m),l.appendChild(u),l.appendChild(y),l.appendChild(E),l.appendChild(s),l.appendChild(g),i.appendChild(l)})(t+1,e.product_id,e.name,e.category,e.unit_price,e.quantity)})}).catch(e=>console.log(e))},I=(e,t,n,o)=>{const c={name:e,category:t,quantity:o,unit_price:n};(0,d.createItem)(a,c).then(e=>e).catch(e=>console.log(e))},B=(e,t,n,o,c)=>{const l=document.getElementById("product-details-view"),r=document.createElement("h4");r.innerHTML=e,l.appendChild(r);const m=document.createElement("div");m.classList.add("details-right-column");const u=document.createElement("h3");u.innerHTML="Product ID: "+t,m.appendChild(u);const s=document.createElement("h3");s.innerHTML="Category: "+n,m.appendChild(s);const p=document.createElement("h3");p.innerHTML="Quantity in stock: "+o,m.appendChild(p);const E=document.createElement("h3");E.innerHTML="Unit price: "+c,m.appendChild(E);const g=document.createElement("div"),v=document.createElement("button");v.id="back",v.innerHTML="<< Back",v.addEventListener("click",e=>{e.preventDefault(),(0,d.modifyDiv)(i)}),g.appendChild(v);const f=document.createElement("button");f.id="edit",f.innerHTML="Edit product",f.addEventListener("click",a=>{a.preventDefault(),(0,d.modifyDiv)(y),((e,t,n,d,o)=>{document.getElementById("id-field").value=e,document.getElementById("name-field").value=t;let a=document.getElementById("select-category");(a=a.options[a.selectedIndex]).text=n,document.getElementById("quantity-field").value=d,document.getElementById("price-field").value=o})(t,e,n,o,c)}),g.appendChild(f);const I=document.createElement("button");I.id="delete",I.innerHTML="Delete product",I.addEventListener("click",e=>{e.preventDefault(),confirm("Are you sure you want to delete this Item?")&&((e=>{a+=`/${e}`,(0,d.deleteItem)(a).then(e=>e).catch(e=>console.log(e))})(t),h(),(0,d.modifyDiv)(i))}),g.appendChild(I),m.appendChild(g),l.appendChild(m)};g.addEventListener("submit",e=>{e.preventDefault(),(()=>{const e=document.getElementById("prod-name").value,t=document.getElementById("prod-category");t=t.options[t.selectedIndex].text;const n=parseInt(document.getElementById("prod-quantity").value),d=parseFloat(document.getElementById("prod-price").value);I(e,t,d,n)})(),alert("Product saved"),document.getElementById("prod-name").value="",document.getElementById("prod-quantity").value="",document.getElementById("prod-price").value=""}),window.addEventListener("load",()=>{h(),(0,o.getNumberOfAttendants)(),(0,d.modifyDiv)(i)}),c.addEventListener("click",()=>{(0,d.modifyDiv)(i)}),m.addEventListener("click",e=>{e.preventDefault(),(0,d.modifyDiv)(r)}),u.addEventListener("click",()=>{(0,d.modifyDiv)(l)}),s.addEventListener("click",()=>{(0,d.modifyDiv)(i)}),E.addEventListener("click",e=>{e.preventDefault(),(0,d.modifyDiv)(p)})}});